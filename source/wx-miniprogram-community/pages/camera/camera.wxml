<view class="page">
  <!-- 微信官方 camera 组件区域 -->
  <camera id="camera"
          mode="{{mode}}"
          device-position="{{devicePosition}}"
          flash="{{flash}}"
          frame-size="medium"
          binderror="onCameraError"
          bindinitdone="onInitDone"
          bindscancode="onScanCode"
          style="width:100%;height:80vh">
  </camera>

  <!-- 控制栏（放在 camera 下方，避免原生组件遮挡） -->
  <view class="controls">
    <button class="btn" bindtap="onToggleDevice">切换摄像头</button>
    <view wx:if="{{mode === 'normal'}}" class="shutter" bindtap="onTakePhoto"></view>
    <button class="btn" bindtap="onToggleFlash">闪光: {{flash}}</button>
  </view>

</view>
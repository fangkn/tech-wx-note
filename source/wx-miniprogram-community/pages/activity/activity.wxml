<!--pages/activity/activity.wxml-->
<view class="page">
  <!-- é¡µé¢æ ‡é¢˜ -->
  <view class="header">
    <text class="title">ç¤¾åŒºæ´»åŠ¨</text>
  </view>

  <!-- æ´»åŠ¨åˆ—è¡¨ -->
  <scroll-view class="activity-list" scroll-y="true" enable-back-to-top="true">
    <view class="activity-item" wx:for="{{activities}}" wx:key="id" bindtap="onActivityTap" data-id="{{item.id}}">
      <!-- æ´»åŠ¨å°é¢å›¾ -->
      <view class="activity-cover">
        <image src="{{item.coverImage || '/images/default-activity.png'}}" mode="aspectFill" class="cover-image"></image>
        <view class="status-tag" wx:if="{{item.status}}">{{item.statusText}}</view>
      </view>
      
      <!-- æ´»åŠ¨ä¿¡æ¯ -->
      <view class="activity-info">
        <view class="activity-title">{{item.title}}</view>
        <view class="activity-desc">{{item.description}}</view>
        
        <view class="activity-meta">
          <view class="meta-item">
            <text class="icon">ğŸ“…</text>
            <text class="text">{{item.startTime}}</text>
          </view>
          <view class="meta-item">
            <text class="icon">ğŸ“</text>
            <text class="text">{{item.location}}</text>
          </view>
          <view class="meta-item">
            <text class="icon">ğŸ‘¥</text>
            <text class="text">{{item.participantCount}}/{{item.maxParticipants}}äºº</text>
          </view>
        </view>
        
        <view class="activity-footer">
          <view class="organizer">ä¸»åŠï¼š{{item.organizer}}</view>
          <view class="join-btn" wx:if="{{item.canJoin}}">ç«‹å³æŠ¥å</view>
        </view>
      </view>
    </view>
    
    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty-state" wx:if="{{activities.length === 0 && !loading}}">
      <text class="empty-icon">ğŸª</text>
      <text class="empty-text">æš‚æ— æ´»åŠ¨</text>
      <text class="empty-desc">æ•¬è¯·æœŸå¾…æ›´å¤šç²¾å½©æ´»åŠ¨</text>
    </view>
    
    <!-- åŠ è½½çŠ¶æ€ -->
    <view class="loading-state" wx:if="{{loading}}">
      <text class="loading-text">åŠ è½½ä¸­...</text>
    </view>
  </scroll-view>
</view>